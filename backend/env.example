PORT=3001

# CORS (comma-separated or JSON array). Vite default origin is http://localhost:5173
CORS_ORIGINS=["http://localhost:5173"]

# Database (Postgres + SQLAlchemy async)
DATABASE_URL=postgresql+asyncpg://postgres:postgres@127.0.0.1:5433/classmate

# JWT / cookies (placeholder values; change in prod)
JWT_SECRET=dev-change-me
JWT_ACCESS_TTL_SECONDS=900
JWT_REFRESH_TTL_SECONDS=1209600

# Cookie options
ACCESS_COOKIE_NAME=access_token
REFRESH_COOKIE_NAME=refresh_token
REFRESH_COOKIE_PATH=/api/v1/auth
COOKIE_SECURE=false
COOKIE_DOMAIN=
COOKIE_SAMESITE=lax

# CSRF (double-submit cookie)
CSRF_ENABLED=true
CSRF_COOKIE_NAME=csrf_token
CSRF_HEADER_NAME=X-CSRF-Token
CSRF_COOKIE_PATH=/
CSRF_COOKIE_SAMESITE=lax

# Legacy note:
# This project previously used LangChain + Gemini + Chroma for chat/RAG. Those env vars have been removed
# in preparation for a new DSPy + BM25 + Runpod transcription pipeline.
# S3 uploads (presigned)
# For local dev with MinIO (see backend/docker-compose.yml), use:
# - S3 endpoint: http://localhost:9000
# - Console UI:  http://localhost:9001
S3_ENDPOINT_URL=http://localhost:9000
S3_REGION=us-east-1
S3_BUCKET=classmate
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_PRESIGN_EXPIRES_SECONDS=900
S3_DOWNLOAD_EXPIRES_SECONDS=300
# Presign window for extracted audio URLs used by Runpod.
# Must be long enough for the full transcription job + retries.
S3_AUDIO_PRESIGN_EXPIRES_SECONDS=3600
UPLOAD_MAX_SIZE_BYTES=26214400

# ffmpeg (used for extracting audio from uploaded videos)
FFMPEG_BIN=ffmpeg
# Thumbnail capture (seconds into the video to grab a frame)
THUMBNAIL_SEEK_SECONDS=1.0

# Runpod serverless (faster-whisper)
# You will use these in M2 (transcription).
RUNPOD_API_KEY=
RUNPOD_ENDPOINT_ID=
RUNPOD_POLL_INTERVAL_SECONDS=2
RUNPOD_TIMEOUT_SECONDS=600
# Use /runsync for simplest integration (true), or /run + poll (false).
RUNPOD_USE_RUNSYNC=false
# Default model passed to the standard faster-whisper worker.
RUNPOD_WHISPER_MODEL=large-v2